<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Vendas</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js para grÃ¡ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- PapaParse para processamento de CSV -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“Š Dashboard de Vendas</h1>
            <div class="month-selector">
                <label for="month-select">Selecione o mÃªs:</label>
                <select id="month-select">
                    <option value="dezembro_24.csv">Dezembro 2024</option>
                    <option value="janeiro_25.csv" selected>Janeiro 2025</option>
                    <option value="fevereiro_25.csv">Fevereiro 2025</option>
                    <option value="marÃ§o_25.csv">MarÃ§o 2025</option>
                    <option value="abril_25.csv">Abril 2025</option>
                    <option value="maio_25.csv">Maio 2025</option>
                </select>
            </div>
        </header>

        <div class="loading-indicator" id="loading">
            <div class="spinner"></div>
            <p>Carregando dados...</p>
        </div>

        <div class="error-message" id="error-message">
            <p>Ocorreu um erro ao carregar os arquivos CSV. Verifique se os arquivos estÃ£o disponÃ­veis no diretÃ³rio correto.</p>
            <div class="error-actions">
                <button id="retry-button">Tentar Novamente</button>
                <button id="use-demo-data">Usar Dados de DemonstraÃ§Ã£o</button>
            </div>
        </div>

        <div class="dashboard-content" id="dashboard-content">
            <div class="top-row">
                <div class="card total-card">
                    <h2>Vendas Totais</h2>
                    <div class="total-value" id="total-value">R$ 0,00</div>
                </div>
                <div class="card total-card lista-card">
                    <h2>Total LISTA</h2>
                    <div class="total-value" id="lista-value">R$ 0,00</div>
                </div>
                <div class="card total-card pix-card">
                    <h2>Total PIX</h2>
                    <div class="total-value" id="pix-value">R$ 0,00</div>
                </div>
            </div>

            <div class="bottom-row">
                <div class="card time-series-card">
                    <h2>Vendas LISTA por MÃªs</h2>
                    <div class="chart-container">
                        <canvas id="line-chart"></canvas>
                    </div>
                </div>
                <div class="card bar-chart-card">
                    <h2>Vendas PIX por MÃªs</h2>
                    <div class="chart-container">
                        <canvas id="bar-chart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="top-pdv-row">
                <div class="card full-width-card">
                    <h2>TOP 10 PDVs - Vendas</h2>
                    <div class="pdv-type-selector">
                        <div class="pdv-type-buttons">
                            <button id="view-top-btn" class="active">Maiores Vendas</button>
                            <button id="view-bottom-btn">Menores Vendas</button>
                        </div>
                        <div class="payment-type-selector">
                            <button id="pdv-lista-btn" class="active">LISTA</button>
                            <button id="pdv-pix-btn">PIX</button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="pdv-chart"></canvas>
                    </div>
                </div>
            </div>

            <div class="temporal-row">
                <div class="card full-width-card">
                    <h2>SÃ©rie Temporal de Vendas DiÃ¡rias por PDV</h2>
                    <div class="temporal-filters">
                        <label for="temporal-month-select">MÃªs:</label>
                        <select id="temporal-month-select"></select>
                        <label for="temporal-pdv-select">PDV:</label>
                        <select id="temporal-pdv-select"></select>
                    </div>
                    
                    <div class="pdv-stats-row">
                        <div class="card total-card pdv-total-card">
                            <h2>Total do PDV no MÃªs</h2>
                            <div class="total-value" id="pdv-total-value">R$ 0,00</div>
                        </div>
                        <div class="card total-card pdv-lista-card">
                            <h2>LISTA do PDV</h2>
                            <div class="total-value" id="pdv-lista-value">R$ 0,00</div>
                        </div>
                        <div class="card total-card pdv-pix-card">
                            <h2>PIX do PDV</h2>
                            <div class="total-value" id="pdv-pix-value">R$ 0,00</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="temporal-pdv-chart"></canvas>
                    </div>
                </div>
                <div class="card full-width-card">
                    <h2>SÃ©rie Temporal de Vendas DiÃ¡rias por SERIAL do PDV</h2>
                    <div class="chart-container">
                        <canvas id="temporal-serial-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="status-panel" id="status-panel">
            <h3>Status de Carregamento</h3>
            <div id="status-content"></div>
            <div class="data-notice" id="data-notice"></div>
        </div>

        <footer>
            <p>Dashboard de Vendas Â© 2023 - Desenvolvido com HTML, CSS e JavaScript</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html> 